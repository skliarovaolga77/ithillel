//ĞœĞ°ÑÑĞ¸Ğ² Ğ²Ğ¸Ğ´Ğ¾Ğ² ÑĞ¿Ğ¾Ñ€Ñ‚Ğ° sports, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ ÑĞ¾ÑÑ‚Ğ¾Ğ¸Ñ‚ Ğ¸Ğ· [Ğ˜ĞºĞ¾Ğ½ĞºĞ° Ğ²Ğ¸Ğ´Ğ° ÑĞ¿Ğ¾Ñ€Ñ‚Ğ°, ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ²Ğ¸Ğ´Ğ° ÑĞ¿Ğ¾Ñ€Ñ‚Ğ°];
const sports = [
	['1F93A','fencing'],
	['26F8','figure skating'],
	['26F7','skier'],
	['1F3C2','snowboarder'],
	['1F3CC','golfing'],
	['1F6A3','rowing boat'],
	['1F3CA','swimming'],
	['1F938','gymnastics'],
	['1F93E','handball']
];
console.log(sports);

//ĞœĞ°ÑÑĞ¸Ğ² ÑÑ‚Ñ€Ğ°Ğ½ Ğ¿Ğ¾Ğ±ĞµĞ´Ğ¸Ñ‚ĞµĞ»ĞµĞ¹ Ğ½Ğ° ĞĞ»Ğ¸Ğ¼Ğ¿Ğ¸Ğ¹ÑĞºĞ¸Ñ… Ğ¸Ğ³Ñ€Ğ°Ñ… Ğ² ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¼ Ğ²Ğ¸Ğ´Ğµ ÑĞ¿Ğ¾Ñ€Ñ‚Ğ° winners, 
//ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ ÑĞ¾ÑÑ‚Ğ¾Ğ¸Ñ‚ Ğ¸Ğ· [ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ²Ğ¸Ğ´Ğ° ÑĞ¿Ğ¾Ñ€Ñ‚Ğ°, Ğ—Ğ°Ğ²Ğ¾ĞµĞ²Ğ°Ğ½Ğ½Ğ°Ñ Ğ¼ĞµĞ´Ğ°Ğ»ÑŒ, Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ°];
const winners = [
	['fencing','gold','fr'],
	['fencing','silver','it'],
	['fencing','bronze','us'],


	['figure skating','gold','ca'],
	['figure skating','silver','ru'],
	['figure skating','bronze','us'],


	['skier','gold','no'],
	['skier','silver','ru'],
	['skier','bronze','fr'],


	['snowboarder','gold','us'],
	['snowboarder','silver','jp'],
	['snowboarder','bronze','au'],


	['golfing','gold','gb'],
	['golfing','silver','se'],
	['golfing','bronze','us'],


	['rowing boat','gold','us'],
	['rowing boat','silver','gb'],
	['rowing boat','bronze','ro'],


	['swimming','gold','us'],
	['swimming','silver','gb'],
	['swimming','bronze','au'],


	['gymnastics','gold','ru'],
	['gymnastics','silver','ru'],
	['gymnastics','bronze','ua'],


	['handball','gold','dk'],
	['handball','silver','fr'],
	['handball','bronze','de'],
];
// console.log(winners);

//ĞœĞ°ÑÑĞ¸Ğ² ĞºĞ¾Ğ»ĞµÑ† Ñ ĞĞ»Ğ¸Ğ¼Ğ¿Ğ¸Ğ¹ÑĞºĞ¾Ğ¹ ÑĞ¼Ğ±Ğ»ĞµĞ¼Ñ‹ olympic, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ ÑĞ¾ÑÑ‚Ğ¾Ğ¸Ñ‚ Ğ¸Ğ· [Ğ˜ĞºĞ¾Ğ½ĞºĞ° Ğ¾Ğ»Ğ¸Ğ¼Ğ¿Ğ¸Ğ¹ÑĞºĞ¾Ğ³Ğ¾ ĞºĞ¾Ğ»ÑŒÑ†Ğ°];
const olympic = ['1F535','26AB','1F534','1F7E1','1F7E2'];
// console.log(olympic);


//ĞœĞ°ÑÑĞ¸Ğ² Ğ¼ĞµĞ´Ğ°Ğ»ĞµĞ¹ medals, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ ÑĞ¾ÑÑ‚Ğ¾Ğ¸Ñ‚ Ğ¸Ğ· [Ğ˜ĞºĞ¾Ğ½ĞºĞ° Ğ¼ĞµĞ´Ğ°Ğ»Ğ¸, ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¼ĞµĞ´Ğ°Ğ»Ğ¸];
const medals = [
	['1F947','gold'],
	['1F948','silver'],
	['1F949','bronze'],
];
console.log(medals);

//ĞœĞ°ÑÑĞ¸Ğ² ÑÑ‚Ñ€Ğ°Ğ½ Ğ¸ ĞºĞ¾Ğ½Ñ‚Ğ¸Ğ½ĞµĞ½Ñ‚Ğ¾Ğ² continents, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ ÑĞ¾ÑÑ‚Ğ¾Ğ¸Ñ‚ Ğ¸Ğ· [ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ ÑÑ‚Ñ€Ğ°Ğ½Ñ‹, ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ğ°];
const continents = [
	['fr','Europe'],
	['it','Europe'],
	['us','The Americas'],
	['ca','The Americas'],
	['ru','Europe'],
	['no','Europe'],
	['jp','Asia'],
	['au','Oceania'],
	['gb','Europe'],
	['se','Europe'],
	['ro','Europe'],
	['ua','Europe'],
	['dk','Europe'],
	['de','Europe']
];
// console.log(continents);

//ĞĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ Ğ²Ñ‹Ğ²ĞµÑÑ‚Ğ¸ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñƒ Ğ¿Ğ¾Ğ±ĞµĞ´Ğ¸Ñ‚ĞµĞ»ĞµĞ¹ ĞĞ»Ğ¸Ğ¼Ğ¿Ğ¸Ğ¹ÑĞºĞ¸Ñ… Ğ¸Ğ³Ñ€ Ğ² ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²Ğ¸Ğ¸ Ñ Ğ²Ğ¸Ğ´Ğ¾Ğ¼ ÑĞ¿Ğ¾Ñ€Ñ‚Ğ° Ğ¸ ĞºĞ¾Ğ½Ñ‚Ğ¸Ğ½ĞµĞ½Ñ‚Ğ¾Ğ¼ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹. 
//ĞœĞµÑ‚Ğ¾Ğ´ Ğ´Ğ»Ñ Ğ¿Ñ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ unicode Ğ²Ğ¸Ğ´Ğ° ÑĞ¿Ğ¾Ñ€Ñ‚Ğ° Ğ² ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒÑÑ‰ÑƒÑ Ğ¸ĞºĞ¾Ğ½ĞºÑƒ â€“ String.fromCodePoint(parseInt(val, 16)); Ğ³Ğ´Ğµ val â€“ unicode Ğ²Ğ¸Ğ´Ğ° ÑĞ¿Ğ¾Ñ€Ñ‚Ğ°.
//ĞœĞµÑ‚Ğ¾Ğ´ Ğ´Ğ»Ñ Ğ¿Ñ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ°Ğ±Ğ±Ñ€ĞµĞ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ñ‹ ÑÑ‚Ñ€Ğ°Ğ½Ñ‹ Ğ² ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒÑÑ‰ÑƒÑ
//Ğ¸ĞºĞ¾Ğ½ĞºÑƒ Ñ„Ğ»Ğ°Ğ³Ğ° â€“ 'ca'.toUpperCase().replace(/./g, char => String.fromCodePoint(char.charCodeAt(0)+127397)); Ğ³Ğ´Ğµ 'ca' â€“ Ğ°Ğ±Ğ±Ñ€ĞµĞ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ğ° ÑÑ‚Ñ€Ğ°Ğ½Ñ‹ (Canada).	

let trs = [],
	Europe = [],
	America = [],
	Oceania = [],
	Asia = [];

//ĞºÑ€ÑƒĞ³Ğ¸
let tdOlympic =	olympic
		.map(function(elementOlympic){
		//Ğ¼Ğ°ÑÑĞ¸Ğ² Ñ†Ğ²ĞµÑ‚Ğ½Ğ¾Ğ¹ ĞºÑ€ÑƒĞ³
			return `<td>${icon(elementOlympic)}</td>`;
		})
// console.log(tdOlympic);

//Ğ¼ĞµĞ´Ğ°Ğ»Ğ¸
let iconMedals = medals
	.map (function(elementMedals){
		// console.log(elementMedals);
		return icon(elementMedals);
	})
console.log(iconMedals);

sports	
	.forEach(function(sport){
		//console.log(sport);

		//Ğ²Ñ‹Ñ‚Ğ°ÑĞºĞ¸Ğ²Ğ°ĞµĞ¼ Ñ Ğ¼Ğ°ÑÑĞ¸Ğ²Ğ° Ğ¾Ğ»Ğ¸Ğ¼Ğ¿Ğ¸Ğ¹Ñ†ĞµĞ² Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ñ‚ĞµÑ…, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´ÑÑ‚ Ğ¿Ğ¾Ğ´ Ñ‚ĞµĞºÑƒÑ‰Ğ¸Ğ¹ Ğ²Ğ¸Ğ´ ÑĞ¿Ğ¾Ñ€Ñ‚Ğ°
		// fencing (winner[0]) Ğ¸ fencing sport[1]
		let currentWinners = winners
			.filter(function(winner){
				// console.log(winner[1]);
				return winner[0] === sport[1];
			})
		// console.log(currentWinners);// Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ Ğ¼Ğ°ÑÑĞ¸Ğ² currentWinners ( Ğ½Ğ°Ğ¿Ñ€ ["fencing", "gold"]/)

		//Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµĞ¼ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ ĞºĞ¾Ğ½Ñ‚Ğ¸Ğ½Ñ‚Ğµ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ±ĞµĞ´Ğ¸Ñ‚ĞµĞ»Ñ Ğ´Ğ»Ñ Ñ‚ĞµĞºÑƒÑ‰ĞµĞ³Ğ¾ Ğ²Ğ¸Ğ´Ğ° ÑĞ¿Ğ¾Ñ€Ñ‚Ğ° Ğ¸ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ ĞµĞ³Ğ¾ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¼Ñƒ Ğ¿Ğ¾Ğ±ĞµĞ´Ğ¸Ñ‚ĞµĞ»Ñ
		let winnersWithContinents = currentWinners
			.map(function(winner){
				let winnerContinent = getContinent(winner[2]);
				//console.log(winnerContinent);
				winner.push(winnerContinent);
				return winner;
			});
		// console.log(winnersWithContinents);// Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ Ğ¼Ğ°ÑÑĞ¸Ğ² currentWinners ( Ğ½Ğ°Ğ¿Ñ€ ["fencing", "gold", "fr", "Europe"]/)

		//Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµĞ¼ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ ÑĞ·ĞµÑ€Ğ° Ğ² ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒÑÑ‰ÑƒÑ ĞºĞ¾Ğ»Ğ¾Ğ½ĞºÑƒ ĞºĞ¾Ğ½Ñ‚Ğ¸Ğ½ĞµĞ½Ñ‚Ğ°
		winnersWithContinents.forEach(function(winner){
			//console.log(winner);
			let winnerContinent = winner[3];
			// console.log(winnerContinent);
			switch(winnerContinent){
				case 'Europe':
					Europe.push(renderWinner(winner));
					break;
				case 'The Americas':
					America.push(renderWinner(winner));
					break;
				case 'Oceania':
					Oceania.push(renderWinner(winner));
					break;
				case 'Asia':
					Asia.push(renderWinner(winner));
					break;
			}
	})
		
		let tr =  `<tr>
						<td data-id="${sport[1]}" class="sport" style="background-color:#3dcca178; font-size: 50px;"; >${icon(sport[0])}</td>
						<td class="sport">${Europe.join('')}</td>
						<td class="sport">${America.join('')}</td>
						<td class="sport">${Oceania.join('')}</td>
						<td class="sport">${Asia.join('')}</td>
						<td class="sport"></td>
					</tr>`;
		trs.push(tr);
})

let trOlympic = `<tr><td>${tdOlympic.join('')}</td></tr>`;// tr
// console.log(trs);
document.write(`<table class="medals">${trOlympic}${trs.join('')}</table>`);

function getContinent(countryCode){
	let continent = continents.filter(function(country){
					//console.log(country[0],countryCode);
					return country[0] === countryCode; // ÑÑ€Ğ°Ğ²Ğ½Ğ¸Ğ²Ğ°ĞµĞ¼ ĞºĞ¾Ğ´ ÑÑ‚Ñ€Ğ°Ğ½Ñ‹ Ğ¿Ğ¾Ğ±ĞµĞ´Ğ¸Ñ‚ĞµĞ»Ñ Ñ ĞºĞ¾Ğ´Ğ¾Ğ¼ ÑÑ‚Ñ€Ğ°Ğ½Ñ‹ Ñ Ğ¼Ğ°ÑÑĞ¸Ğ²Ğ° continents (getContinent(winner[2]) 159 ÑÑ‚Ñ€Ğ¾ĞºĞ°)
					})
		//console.log(continent);
		// console.log(continent[0][1]);
		return continent[0][1];
	}

function icon(unicode){
	return String.fromCodePoint(parseInt(unicode, 16));
}

function iconFlag(unicodeFlag){
	return unicodeFlag.toUpperCase().replace(/./g, char => String.fromCodePoint(char.charCodeAt(0)+127397));
}

function renderWinner(winner){
	let winnerMedal = medals.filter(function(medal){
		// console.log(medal[1]);//Ğ¿Ñ€Ğ¾Ğ¹Ñ‚Ğ¸ÑÑŒ Ğ¿Ğ¾ Ğ¼Ğ°ÑÑĞ¸Ğ²Ñƒ medals Ğ¸ Ğ´Ğ¾ÑÑ‚Ğ°Ñ‚ÑŒ Ñ Ğ½ĞµĞ³Ğ¾ Ğ¼ĞµĞ´Ğ°Ğ»ÑŒ medal[1] (Ğ½Ğ°Ğ¿Ñ€ gold)
		return medal[1] === winner[1];
	})
	let medalIcon = icon(winnerMedal[0]);// Ğ¿Ñ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ»Ğ¸ Ğ² Ğ¸ĞºĞ¾Ğ½ĞºÑƒ
	console.log(medalIcon);
	// console.log(winner[3]);//Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ ĞºĞ¾Ğ½Ñ‚Ğ¸Ğ½ĞµĞ½Ñ‚Ğ° (Ğ½Ğ°Ğ¿Ñ€ Europe)
	// console.log(winner[2]);//winner[2] Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ ÑÑ‚Ñ€Ğ°Ğ½Ñ‹ (Ğ½Ğ°Ğ¿Ñ€ ua)
	let flagIcon = iconFlag(winner[2]);
	let p = `<p class="gold">${medalIcon} - ${flagIcon}</p>`;
	if( medalIcon == 'ğŸ¥‡'){
		p = `<p class="gold">${medalIcon} - ${flagIcon}</p>`
	}else if(medalIcon == 'ğŸ¥ˆ'){
		p = `<p class="silver">${medalIcon} - ${flagIcon}</p>`
	}
	else if(medalIcon == 'ğŸ¥‰'){
		p = `<p class="bronze">${medalIcon} - ${flagIcon}</p>`
	}
	return p;
}

// function getFlags($code){
// 	$code = $code.toUpperCase();
// 	if($code == 'FR') return 'ğŸ‡«ğŸ‡·';
// 	if($code == 'IT') return 'ğŸ‡®ğŸ‡¹';
// 	if($code == 'US') return 'ğŸ‡ºğŸ‡¸';
// 	if($code == 'CA') return 'ğŸ‡¨ğŸ‡¦';
// 	if($code == 'RU') return 'ğŸ‡·ğŸ‡º';
// 	if($code == 'NO') return 'ğŸ‡³ğŸ‡´';
// 	if($code == 'JP') return 'ğŸ‡¯ğŸ‡µ';
// 	if($code == 'AU') return 'ğŸ‡¦ğŸ‡º';
// 	if($code == 'GB') return 'ğŸ‡¬ğŸ‡§';
// 	if($code == 'SE') return 'ğŸ‡¸ğŸ‡ª';
// 	if($code == 'RO') return 'ğŸ‡·ğŸ‡´';
// 	if($code == 'UA') return 'ğŸ‡ºğŸ‡¦';
// 	if($code == 'DK') return 'ğŸ‡©ğŸ‡°';
// 	if($code == 'DE') return 'ğŸ‡©ğŸ‡ª';
// 	return 'ğŸ³ï¸';
// }
// console.log(getFlags('fr'));
